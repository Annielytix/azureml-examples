type: sweep_job
algorithm: random
trial:
  command: >- 
    python main.py 
    --learning-rate {search_space.learning_rate}
    --boosting {search_space.boosting}
    --iris-csv {inputs.iris}
  code: 
    local_path: src 
  environment: azureml:python-ml-basic-cpu:5
  compute:
    target: azureml:cpu-cluster
  inputs:
    iris:
      data:
        path: https://azuremlexamples.blob.core.windows.net/datasets/iris.csv
      mode: mount
search_space:
  learning_rate:
    type: uniform
    min_value: 0.01
    max_value: 0.9
  boosting:
    type: choice
    values: ["gbdt", "dart"]
objective:
  primary_metric: test-multi_logloss
  goal: minimize
max_total_trials: 20
max_concurrent_trials: 10
timeout_minutes: 120
experiment_name: sweep-test
